<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    html,
    body {
        background-color: black;
    }

    .form {
        position: fixed;
        width: 500px;
        height: 500px;
        left: 0;
        top: 0;
        background-color: rgb(188, 188, 188);

    }

    button {
        position: fixed;
        width: 80px;
        height: 25px;
        left: 10px;
        top: 10px;
        background-color: rgb(255, 252, 252);
        font-size: 15px;
        font-family: Arial;
    }

    .lateral {
        columns: 2;
        position: fixed;
        width: 600px;
        background-color: bisque;
        right: 5px;
        top: 5px;
        padding: 10px;
        border-radius: 10px;
        font-size: small;
    }

    .lateral .elemento {
        background-color: rgb(121, 152, 133);
        color: aliceblue;
        text-align: center;
        margin-left: 0px;
        width: 160px;
        border-radius: 10px;
        cursor: pointer;
        margin-bottom: 3px;
        user-select: none;
        transition: 1s scale;
    }

    .lateral .elemento:hover {
        background-color: rgb(70, 214, 123);
        scale: 1.1;
    }



    .textarea {
        position: fixed;
        width: 400px;
        height: 100px;
        left: 10px;
        top: 45px;
        background-color: rgb(255, 252, 252);
        font-size: 15px;
        font-family: Arial;
    }
</style>

<body>
    <div class="form" id="form">

    </div>


    <div class="lateral">
        <p id="proporcaoTela"></p>
        <input type="number" value="500" name="" id="x">
        <input type="number" value="500" name="" id="y">
        <br>
        <br>
        <br>
        <div class="elemento" id="AddButton">Add Button</div>
        <div class="elemento" id="AddInput">Add Input</div>
        <div class="elemento" id="AddTextArea">Add Textarea</div>
        <div class="elemento" id="AddCheckbox">Add Checkbox</div>
        <div class="elemento" id="AddCombobox">Add Combobox</div>
        <div class="elemento" id="AddProgressBar">Add ProgressBar</div>
        <div class="elemento" id="AddRadio">Add Radio</div>
        <br>

        <br>
        <br>
        <br><br>
        <br>
        <br>

        <p>Pos Y:</p>
        <input type="number" value="10" name="" id="t">
        <br>
        <p>Pos X:</p>
        <input type="number" value="10" name="" id="l">
        <br>
        <p>Largura:</p>
        <input type="number" value="10" name="" id="w">
        <br>
        <p>Altura:</p>
        <input type="number" value="10" name="" id="h">
        <br>

        <br>
        <br>
        <div class="elemento" id="Gerar">Gerar</div>
        <br>

        <p>Codigo:</p>
        <textarea id="final" style="width:170px;resize:none" cols="30" rows="5"></textarea>
    </div>


</body>
<script>

    var itematual = 0;
    var selecionado = 0;



    setInterval(() => {
        document.getElementById('proporcaoTela').innerHTML = 'Tamanho da Janela: ' + document.getElementById('form').offsetWidth + 'x' + document.getElementById('form').offsetHeight + '<br><br>'

        document.getElementById('form').style.width = document.getElementById('x').value + 'px';
        document.getElementById('form').style.height = document.getElementById('y').value + 'px';
        //Atual
        //selecionado = parseInt(document.getElementById('Atual').value)
        if (document.getElementById('item_' + selecionado)) {

            document.getElementById('item_' + selecionado).style.width = document.getElementById('w').value + 'px'
            document.getElementById('item_' + selecionado).style.height = document.getElementById('h').value + 'px'
            document.getElementById('item_' + selecionado).style.top = document.getElementById('t').value + 'px'
            document.getElementById('item_' + selecionado).style.left = document.getElementById('l').value + 'px'
        }

        var todos = document.querySelectorAll('*')
        todos.forEach(e => {
            if (e.id == 'item_' + selecionado) {
                e.style.border = '3px solid lime';
            }
            else {
                e.style.border = 'none';
            }
        });

    }, 1);

    document.getElementById('Gerar').addEventListener('click', () => {
        document.getElementById('final').value = gerarCodigo()
    })


    document.getElementById('AddButton').addEventListener('click', () => {

        criar('button')
    })

    document.getElementById('AddInput').addEventListener('click', () => {
        criar('input')
    })

    document.getElementById('AddTextArea').addEventListener('click', () => {
        criar('textarea')
    })

    document.getElementById('AddCheckbox').addEventListener('click', () => {
        criar('checkbox')
    })

    document.getElementById('AddCombobox').addEventListener('click', () => {
        criar('select')
    })
    document.getElementById('AddProgressBar').addEventListener('click', () => {
        criar('progressbar')
    })

    document.getElementById('AddRadio').addEventListener('click', () => {
        criar('radio')
    })



    function criar(tipo) {
        for (let i = 0; i < 1000; i++) {

            if (!document.getElementById('item_' + i)) {

                var bb;
                if (tipo == 'checkbox') {
                    bb = document.createElement('input')
                    bb.type = 'checkbox'
                }

                else if (tipo == 'radio') {
                    bb = document.createElement('input')
                    bb.type = 'radio'
                }

                else if (tipo == 'progressbar') {
                    bb = document.createElement('div')
                    bb.style.backgroundColor = 'lime'
                }

                else {
                    bb = document.createElement(tipo)
                    bb.style.backgroundColor = 'white'
                }


                bb.id = 'item_' + i
                bb.textContent = tipo + '_' + i
                bb.value = tipo + '_' + i

                bb.className = 'textarea'
                bb.style.resize = 'none'





                document.getElementById('form').appendChild(bb)
                selecionado = i;

                console.log(bb.tagName + ' ' + bb.type)
                //document.getElementById('Atual').value = selecionado;
                //document.getElementById('Atual').max = selecionado;
                break;
            }
        }
        document.getElementById('w').value = 100;
        document.getElementById('h').value = 30;
        document.getElementById('t').value = 10;
        document.getElementById('l').value = 10;
    }

    //document.getElementById('Atual').addEventListener('input',()=>{
    //    document.getElementById('w').value = parseInt(document.getElementById('item_' + selecionado).offsetWidth)
    //    document.getElementById('h').value = parseInt(document.getElementById('item_' + selecionado).offsetHeight)
    //    document.getElementById('t').value = parseInt(document.getElementById('item_' + selecionado).offsetTop)
    //    document.getElementById('l').value = parseInt(document.getElementById('item_' + selecionado).offsetLeft)
    //})


    function gerarCodigo() {
        var final = `//Topo do codigo\nint LarguraJanela = ${document.getElementById('form').offsetWidth};\nint AlturaJanela = ${document.getElementById('form').offsetHeight};\n\n//Dentro do case WM_CREATE:\n\n`;

        for (let i = 0; i < 1000; i++) {

            if (document.getElementById('item_' + i)) {

                var bb = document.getElementById('item_' + i)
                var index2 = i + 100;
                console.log(bb.tagName)
                // final += `addButton(hwnd,${index2},L"Botao",${bb.offsetWidth},${bb.offsetHeight},${bb.offsetTop},${bb.offsetLeft});`
                if (bb.tagName == 'BUTTON') {
                    final += `addButton(hwnd,/*id do elemento*/${index2},L"Botao",${bb.offsetLeft},${bb.offsetTop},${bb.offsetWidth},${bb.offsetHeight});\n`
                }
                else if (bb.tagName == 'TEXTAREA') {
                    final += `addTextarea(hwnd,/*id do elemento*/${index2},${bb.offsetLeft},${bb.offsetTop},${bb.offsetWidth},${bb.offsetHeight});\n`
                }
                else if (bb.tagName == 'INPUT') {
                    if (bb.type == 'text') {
                        final += `addInput(hwnd,/*id do elemento*/${index2},L"Botao",${bb.offsetLeft},${bb.offsetTop},${bb.offsetWidth},${bb.offsetHeight});\n`
                    }
                    if (bb.type == 'radio') {
                        final += `addRadio(hwnd,/*id do elemento*/${index2},L"Botao",${bb.offsetLeft},${bb.offsetTop},${bb.offsetWidth},${bb.offsetHeight});\n`
                    }
                    if (bb.type == 'checkbox') {
                        final += `addCheckBox(hwnd,/*id do elemento*/${index2},L"Botao",${bb.offsetLeft},${bb.offsetTop},${bb.offsetWidth},${bb.offsetHeight});\n`
                    }

                }
                else if (bb.tagName == 'SELECT') {
                    final += `addCombobox(hwnd,/*id do elemento*/${index2},${bb.offsetLeft},${bb.offsetTop},${bb.offsetWidth},${bb.offsetHeight});\n`
                }
                else if (bb.tagName == 'DIV') {
                    final += `addProgressBar(hwnd,/*id do elemento*/${index2},${bb.offsetLeft},${bb.offsetTop},${bb.offsetWidth},${bb.offsetHeight});\n`
                }


            }
        }
        return final
    }



</script>

</html>